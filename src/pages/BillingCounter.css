/* BillingCounter.css */
/* === Main Layout === */
.billing-wrapper {
  display: flex;
  flex-direction: row;
  gap: 1.5rem;
  padding: 1rem;
  background: #f9fafb;
  height: 100vh;
  overflow: hidden;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* === Left Section (Menu) === */
.menu-left {
  width: 60%;
  overflow-y: auto;
  padding-right: 1rem;
}

.billing-header h2 {
  font-size: 1.8rem;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.filters, .order-type-selector {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 12px;
}

.filters button {
  background: #e5e7eb;
  border: none;
  padding: 6px 14px;
  border-radius: 16px;
  cursor: pointer;
  font-size: 0.9rem;
}
.filters button.active { background: #3b82f6; color: #fff; }

.menu-search-bar input {
  width: 100%;
  padding: 10px 14px;
  font-size: 14px;
  border-radius: 10px;
  border: 1px solid #d1d5db;
  margin-bottom: 12px;
}

.menu-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 1rem;
}

.menu-card {
  background: white;
  padding: 10px;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
  cursor: pointer;
  transition: 0.2s ease;
}
.menu-card:hover { transform: scale(1.02); }

.menu-item-image {
  width: 100%;
  height: 120px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 8px;
}

.veg-status { display: flex; gap: 8px; align-items: center; margin-top: 6px; font-size: 0.85rem; }
.dot { width: 10px; height: 10px; border-radius: 50%; }
.veg { background-color: green; } .non-veg { background-color: red; }
.category-label { font-size: 0.75rem; color: #6b7280; margin-top: 4px; }

/* === Right Section (Billing) === */
.summary-right {
  width: 40%;
  background: #ffffff;
  padding: 1rem;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  display: flex;
  flex-direction: column;
  height: calc(100vh - 2rem);
  min-height: 0;
  overflow: hidden;
}

.order-title { font-size: 1.3rem; margin-bottom: 10px; }

.customer-input {
  width: 100%;
  padding: 12px 16px;
  font-size: 15px;
  border: 1.5px solid #e5e7eb;
  border-radius: 12px;
  margin-bottom: 12px;
  background-color: #f9fafb;
}
.customer-input:focus {
  border-color: #3b82f6;
  outline: none;
  box-shadow: 0 0 0 3px rgba(59,130,246,.2);
}

/* Banner */
.till-banner {
  padding: 8px 14px;
  border-radius: 8px;
  font-weight: bold;
  text-align: center;
  margin-bottom: 12px;
  font-size: 15px;
  border: 1px solid;
}
.till-banner.open   { background:#d1fae5; color:#065f46; border-color:#10b981; }
.till-banner.closed { background:#fee2e2; color:#991b1b; border-color:#ef4444; }
.till-user { font-size: 14px; color:#4b5563; margin-bottom: 8px; }

/* ===== The scroller that holds items + summary ===== */
.order-scroll {
  flex: 1 1 auto;
  min-height: 0;
  overflow: auto;
  padding-right: 4px;
}

/* Items list */
.order-items {
  max-height: none !important;
  background-color: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 10px;
  margin-bottom: 12px;
}

.order-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  font-size: 0.95rem;
}
.item-controls { display: flex; align-items: center; gap: 6px; }
.item-controls button {
  background-color: #e5e7eb;
  border: none;
  border-radius: 6px;
  padding: 4px 8px;
  cursor: pointer;
  font-size: 0.9rem;
}
.item-remove {
  color: #dc2626;
  font-weight: 700;
  font-size: 1rem;
  background: transparent;
  border: none;
  cursor: pointer;
}

/* Summary */
.order-summary .line {
  display: flex; justify-content: space-between;
  padding: 4px 0; font-size: 14px; color:#374151;
}
.order-summary .line.total { font-weight: 700; font-size: 16px; }

/* ===== Buttons live OUTSIDE the scroller ===== */
.action-groups {
  display: flex; flex-direction: column; gap: 14px;
  padding-top: 10px;
  border-top: 1px solid #eef2f7;
  box-shadow: 0 -6px 12px rgba(0,0,0,.04);
  background: #fff;
}

.payment-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.confirm-row {
  display: grid;
  grid-template-columns: 1fr 1fr 56px;
  gap: 12px;
}

/* Button base */
.pos-btn {
  display: inline-flex; align-items: center; justify-content: center; gap: 10px;
  padding: 14px 16px; border: 0; border-radius: 14px;
  font-size: 16px; font-weight: 700; letter-spacing: .2px;
  cursor: pointer; user-select: none; width: 100%;
  transition: transform .06s ease, box-shadow .2s ease, background .2s ease, color .2s ease, opacity .2s ease;
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
}
.pos-btn:active { transform: translateY(1px); }
.pos-btn:disabled { opacity:.55; cursor:not-allowed; box-shadow:none; }

/* Payment */
.btn-pay { background:#f3f4f6; color:#111827; box-shadow: inset 0 0 0 2px #e5e7eb; }
.btn-pay:hover { background:#eef0f3; }
.btn-pay.is-selected { background:#fff; box-shadow: inset 0 0 0 2px #2563eb, 0 4px 10px rgba(37,99,235,.18); }

/* Actions */
.btn-place { background:#10b981; color:#fff; }
.btn-place:hover { background:#0ea772; }
.btn-place.is-waiting { filter: grayscale(.35); opacity:.65; cursor:not-allowed; }

.btn-hold { background:#fbbf24; color:#111827; }
.btn-hold:hover { background:#f59e0b; }

.btn-clear {
  background:#f3f4f6; color:#b91c1c; font-weight:800;
  width:56px; padding:0; aspect-ratio:1/1;
  box-shadow: inset 0 0 0 2px #e5e7eb;
}
.btn-clear:hover { background:#fee2e2; }

.pos-btn .icon { font-size:18px; line-height:0; }
.pos-btn:focus-visible { outline:0; box-shadow:0 0 0 3px rgba(37,99,235,.35), 0 2px 6px rgba(0,0,0,.08); }

/* Auth modal */
.auth-modal-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,.4);
  display: flex; align-items: center; justify-content: center; z-index: 1000;
}
.auth-modal {
  background: #fff; padding: 20px; border-radius: 10px; width: 300px;
  box-shadow: 0 0 10px rgba(0,0,0,.3);
}
.auth-modal input { width: 100%; padding: 10px; margin: 10px 0; }
.auth-buttons { display: flex; justify-content: space-between; }

/* ===== Responsive ===== */
@media (max-width: 1400px) {
  .billing-wrapper { flex-direction: column; height: auto; }
  .menu-left, .summary-right { width: 100%; }
  .summary-right { height: auto; }
}
@media (max-width: 900px) {
  .payment-row, .confirm-row { grid-template-columns: 1fr; }
  .btn-clear { width: 100%; aspect-ratio: auto; padding: 12px 16px; }
  .menu-grid { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); }
}

/* ===== Receipt (COMPACT) ===== */
.receipt-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,.4);
  display: flex; justify-content: center; align-items: center; z-index: 9999;
}
.bill-section {
  width: 360px; max-height: 90vh; overflow-y: auto; background: #fff;
  padding: 12px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,.2);
  position: relative; animation: fadeIn .3s ease;
  font-family: 'Courier New', Courier, monospace;
  font-size: 12px; line-height: 1.15;
}
@keyframes fadeIn { from { opacity:0; transform: scale(.95);} to { opacity:1; transform: scale(1);} }
.receipt-header { text-align:center; margin-bottom:6px; }
.receipt-header h2 { font-size: 15px; margin: 0 0 4px 0; }
.receipt-header p { margin: 2px 0; }

/* NOTE: header action buttons removed from JSX, but keep selector harmless */
.receipt-header-actions { display:none; }

.receipt-table { width:100%; font-size:12px; border-collapse: collapse; margin-top:6px; }
.receipt-table th, .receipt-table td { padding:2px 0; text-align:left; border-bottom:1px dashed #ccc; }
.receipt-summary p { margin:2px 0; }
hr { margin:4px 0; border:0; border-top:1px dashed #ccc; }

/* Print */
@media print {
  html, body { margin:0 !important; padding:0 !important; height:auto !important; width:auto !important; overflow:hidden !important; }
  .receipt-overlay, .bill-section, .bill-section * { visibility: visible !important; position: static !important; }
  .receipt-overlay { position: absolute !important; top:0; left:0; width:100% !important; height:auto !important; background:#fff !important; }
  .bill-section {
    width: 72mm !important; max-width: 72mm !important;
    padding: 6mm 4mm !important; margin: 0 auto !important;
    font-size: 11px !important; line-height: 1.12 !important;
    color:#000 !important; background:#fff !important;
  }
  .receipt-header h2 { font-size: 13px !important; margin: 0 0 2mm 0 !important; }
  .receipt-header p { margin: 1mm 0 !important; }
  .receipt-table { font-size: 11px !important; margin-top: 2mm !important; }
  .receipt-table th, .receipt-table td { padding: 1mm 0 !important; }
  .receipt-summary p { margin: 1mm 0 !important; }
  hr { margin: 2mm 0 !important; }
  .receipt-header-actions { display:none !important; }
  @page { size: 80mm auto; margin: 0; }
}

/* Make the inner panel a proper flex column */
.order-panel{ display: flex; flex-direction: column; height: 100%; min-height: 0; }
.order-scroll{ flex: 1 1 auto; min-height: 0; overflow: auto; }
.order-buttons.action-groups{ flex: 0 0 auto; }
